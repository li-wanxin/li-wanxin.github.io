{"posts":[{"title":"apt-get获取低版本的gcc交叉编译工具链","content":"由于最近北京疫情的原因，我所居住的小区开始了14天的封闭管控，我也第二次的被迫开启了居家办公的日子，好在封闭之前从公司带了居家办公可能用到的调试工具和产品样机回家调试。 之前在公司调试设备代码使用的是ubuntu18的编译服务器+clion的远程配置功能实现的。可家中无法访问公司内网，就需要在本地搭建起和公司一致的编译环境，方便调试。 我个人的电脑安装的是win+linux Mint的双系统，Mint是基于uubntu20的，我尝试使用apt-get 安装arm-linux-gnueabihf相关工具链安装后的版本是9版本，而我在公司使用的是ubuntu18上apt-get安装的7版本。 在Mint20（ubuntu20）上使用apt-get install gcc-arm-linux-gnueabihf调用安装的为gcc-9-arm-linux-gnueabihf 而在ubuntu18上使用apt-get install gcc-arm-linux-gnueabihf调用安装的为gcc-7-arm-linux-gnueabihf 而且在Mint20（ubuntu20）的源中并没有包含gcc-7-arm-linux-gnueabihf 最终考虑通过临时更换到18的源，下载gcc-7-arm-linux-gnueabihf 后再切换成正常的20源的方式实现7版本编译链的获取。 具体如下： 更换源为18的源 sudo nano /etc/apt/sources.list 添加如下的阿里云信息。其余国内ubuntu18源也可. deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse 更新 sudo apt-get update 使用apt-get获取7版本的交叉编译工具 sudo apt-get install gcc-7-arm-linux-gnueabihf sudo apt-get install g++-7-arm-linux-gnueabihf 恢复原有20的源信息 重复步骤1删除添加的源信息 重复步骤2更新update 至此实现了7版本的arm-linux-gnueabihf在Mint20（ubuntu20）上的安装，编译cmake更改为对应的usr/bin中的arm-linux-gnueabihf-cpp-7及arm-linux-gnueabihf-gcc-7 。 或者为了保持一致也可更改usr/bin中的arm-linux-gnueabihf-gcc 及g++软链接至arm-linux-gnueabihf-gcc-7 及arm-linux-gnueabihf-g++-7上，从而实现cmake的一致性。 ","link":"https://www.liwanxin.net/post/G_fesYV_q/"},{"title":"树莓派CM4(EMMC版本)系统镜像烧录","content":"raspberry os 下载 访问如下网址，选择合适版本的系统镜像，并下载至本地。(此处可选择下载torrent并使用迅雷打开torrent下载镜像) Operating system images – Raspberry Pi 下载完成后在本地使用解压软件对对应压缩包解压，镜像为.img文件格式。 img烧录至CM4 烧录工具准备 下载并安装Raspberry Pi Imager软件用以烧录镜像至emmc。（也可使用Win32DiskImager等类似功能软件） Raspberry Pi OS – Raspberry Pi 下载rpiboot驱动及引导识别软件，使电脑识别出cm4上的emmc为U盘模式。 https://github.com/raspberrypi/usbboot/tree/master/win32/rpiboot_setup.exe 烧录系统 将CM4插接在CM4 i/o扩展板上，并使用跳线帽短接J2跳线左侧第一组排针。（功能如IO板丝印表示：Fit jumper to disable emmc boot） 使用J19端口对扩展板供电，并使用右下角J11 USB Slave接口连接电脑USB。 可在windows的控制面板-&gt;硬件和声音-&gt;设备和打印机中查看到识别出了cm4为“BCM2711 Boot”设备。 打开rpiboot软件，等待命令行自动执行完毕后，会发现已经将emmc识别成盘符。 如下图，我使用的cm4的emmc为8GB,系统识别并指定盘符为G盘。 打开Raspberry pi imager软件，并点击CHOOSE OS选择镜像文件，此处我们选择”use custom”选择上述步骤中下载好的镜像。 点击CHOOSE STORAGE指定对应的emmc识别出的盘符。 点击WRITE等待系统烧录完成。 注意事项 在烧录完成的BOOT盘符中新建文件“SSH”（无后缀名），使系统启动时默认开启SSH，方便登录调试。 烧录完成后请去除跳线帽，保证系统可正常启动。 IO扩展板上的SLAVE USB仅在烧录时与电脑通信使用，无法作为CM4的USB使用。 ","link":"https://www.liwanxin.net/post/raspberry_cm4_sys_creat/"},{"title":"Ubuntu编译安装CMake方法及过程","content":" 操作系统：ubuntu 20.04 安装CMake版本：v3.20.3 因ubuntu20apt-get直接安装的Cmake版本偏低，所以考虑采用编译安装的方式安装最新版的CMake，方法参考及报错注意如下文，记录供参考。 进入网址https://cmake.org/download/，在网页platform处选择Unix/Linux Source后对应的file下载tar.gz压缩包。 进入下载的目录找到对应的文件，右键提取到此处。 或在目录下终端输入 tar zxvf cmake压缩包名称.tar.gz 进入解压后的目录，执行./bootstrap sudo ./bootstrap 如果安装过程中报错如下，则为系统缺少gcc,g++，需要执行下列进行build-essential安装，安装后重新执行上述3步骤。 --------------------------------------------- CMake 3.20.3, Copyright 2000-2021 Kitware, Inc. and Contributors --------------------------------------------- Error when bootstrapping CMake: Cannot find appropriate C compiler on this system. Please specify one using environment variable CC. See cmake_bootstrap.log for compilers attempted. --------------------------------------------- Log of errors: /home/liwx/下载/cmake-3.20.3/Bootstrap.cmk/cmake_bootstrap.log --------------------------------------------- sudo apt-get install build-essential 如果安装过程中报错如下，则为缺少openssl，需要执行下列进行libssl-dev安装，安装后重新执行上述3步骤。 -- Could NOT find OpenSSL, try to set the path to OpenSSL root folder in the system variable OPENSSL_ROOT_DIR (missing: OPENSSL_CRYPTO_LIBRARY OPENSSL_INCLUDE_DIR) CMake Error at Utilities/cmcurl/CMakeLists.txt:511 (message): Could not find OpenSSL. Install an OpenSSL development package or configure CMake with -DCMAKE_USE_OPENSSL=OFF to build without OpenSSL. sudo apt-get install libssl-dev 若提示如下，则证明构建成功。 CMake has bootstrapped. Now run make. 执行make编译。 sudo make 编译完成后执行下列指令进行安装。 sudo make install 安装完成后查看cmake版本确认安装成功，执行后提示如下。 cmake --version cmake version 3.20.3 CMake suite maintained and supported by Kitware (kitware.com/cmake). ","link":"https://www.liwanxin.net/post/cmake_install/"},{"title":"解决ROS安装执行rosdep update 超时问题","content":" 操作系统：ubuntu 20 ROS版本：noetic v1.15.11 问题原因 按照rosdep安装流程需要依次执行下述代码: rosdep init rosdep update 但多次尝试发现执行update时总是报超时问题。 对上述2行代码分析如下： rosdep init执行主要为下载/etc/ros/rosdep/sources.list.d/20-default.list文件，该文件中包含多个yaml的网址链接。后续执行的rosdep update就是依次hit上述list的地址。 因地址中主要为https://raw.githubusercontent.com/的地址，国内访问不畅，所以导致超时问题。 解决思路 下载list中所需的yaml文件，并更改20-default.list中的网址为对应的本地路径。 具体操作 执行rosdep init rosdep init 下载所需文件，rosdistro.zip 将下载后的文件解压，并进入下载存放的文件夹，将文件夹移动至/etc/ros/下。（也可放置在其他位置） sudo mv /rosdistro /etc/ros/ 进入/etc/ros/rosdep/sources.list.d/路径并修改list文件为本地路径。 sudo cd /etc/ros/rosdep/sources.list.d/ sudo nano ./20-default.list 将list中的http链接更改替换为本地路径。 # os-specific listings first #yaml https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/osx-homebrew.yaml osx yaml file:///etc/ros/rosdistro/master/rosdep/osx-homebrew.yaml osx # generic #yaml https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/base.yaml #yaml https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/python.yaml #yaml https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/ruby.yaml #gbpdistro https://raw.githubusercontent.com/ros/rosdistro/master/releases/fuerte.yaml fuerte yaml file:///etc/ros/rosdistro/master/rosdep/base.yaml yaml file:///etc/ros/rosdistro/master/rosdep/python.yaml yaml file:///etc/ros/rosdistro/master/rosdep/ruby.yaml gbpdistro file:///etc/ros/rosdistro/master/releases/fuerte.yaml fuerte # newer distributions (Groovy, Hydro, ...) must not be listed anymore, they are being fetched from the rosdistro index.yaml instead 更改后，CTRL+X退出并保存。 在上述list执行gbpdistro 时还会调用另一个文件中的网址，对其进行更改。（建议此处通过文件查看下是否该文件夹存在于lib下的python3下，因不同ros版本貌似此处python文件夹略有差别，但是定在/usr/lib/python x 的路径下） sudo nano /usr/lib/python3/dist-packages/rosdistro/__init__.py 更改其中网址为本地路径。 # index information #DEFAULT_INDEX_URL = 'https://raw.githubusercontent.com/ros/rosdistro/master/index-v4.yaml' DEFAULT_INDEX_URL = 'file:///etc/ros/rosdistro/master/index-v4.yaml' 更改后，CTRL+X退出并保存。 重新执行rosdep update。终端打印如下。 reading in sources list data from /etc/ros/rosdep/sources.list.d Hit file:///etc/ros/rosdistro/master/rosdep/osx-homebrew.yaml Hit file:///etc/ros/rosdistro/master/rosdep/base.yaml Hit file:///etc/ros/rosdistro/master/rosdep/python.yaml Hit file:///etc/ros/rosdistro/master/rosdep/ruby.yaml Hit file:///etc/ros/rosdistro/master/releases/fuerte.yaml Query rosdistro index file:///etc/ros/rosdistro/master/index-v4.yaml Skip end-of-life distro &quot;ardent&quot; Skip end-of-life distro &quot;bouncy&quot; Skip end-of-life distro &quot;crystal&quot; Add distro &quot;dashing&quot; Add distro &quot;eloquent&quot; Add distro &quot;foxy&quot; Skip end-of-life distro &quot;groovy&quot; Skip end-of-life distro &quot;hydro&quot; Skip end-of-life distro &quot;indigo&quot; Skip end-of-life distro &quot;jade&quot; ","link":"https://www.liwanxin.net/post/solve_ros_timeout/"},{"title":"win10+ubuntu双系统蓝牙鼠标配对的解决","content":" 测试电脑：华为Matebook 14 鼠标型号：华为蓝牙鼠标（灰色），具体型号不明。 测试系统：WIN10 + Ubuntu 18.04.6 在安装了WIN10 + Ubuntu双系统后，发现蓝牙鼠标虽然能有效的省去原来使用无线鼠标占用的USB接收器接口，节约了轻薄本紧缺的USB接口数量。但是在双系统的应用中，也给我带来了一个新的问题：无法在双系统中使用。 在baidu + google的一番搜索和尝试后，终于借助华为论坛及CSDN的几篇博文，搞定了上述问题，方法记录如下。 在双系统中配对鼠标 首先在ubuntu系统中连接鼠标，使系统记录鼠标信息，保存相关配置文件，方便我们后续的更改。 切换系统至windows，重新配对鼠标，使windows记录并保存蓝牙鼠标的配置信息。 切记顺序不能调整，因为我们后续要更改的是ubuntu系统中的配置文件，所以需要保证windows系统的配置信息是正确可用的。 查看并记录windows系统中的蓝牙配置信息 下载微软提供的PSTools工具，以方便我们使用高权限查看和更改注册表信息。（下载地址：https://docs.microsoft.com/zh-cn/sysinternals/downloads/pstools） 解压下载的压缩包。 点击开始菜单，找到“命令提示符”工具。 右键，以管理员身份启动命令提示符。 进入PSTools文件夹所在目录（如我存放于D盘，输入d:后回车） 进入PSTools文件夹（输入cd /PSTools） 输入“Psexec64.exe -s -i regedit”，使用PSTools工具打开注册表。 依次点击左侧文件树，进入下述文件夹。 （HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\services\\BTHPORT\\Parameters\\Keys\\ 电脑蓝牙地址） 其中电脑蓝牙地址是一个8位的16进制数字文件夹。 进入后再次看到的12位的16进制数字文件夹即为已经连接蓝牙鼠标的地址，并进入。（若存在多个文件夹，请确认蓝牙鼠标对应的地址） 记录下文件夹中右侧的如下几个信息（建议拍照记录，避免记录错误的麻烦）。 文件夹名（即蓝牙鼠标对应的地址） EDIV ERand() IRK LTK ubuntu系统蓝牙配置信息更改 重启进入ubuntu系统。 启动终端，输入su，获得root权限。 su 输入下述进入蓝牙信息配置的文件夹。 cd /var/lib/bluetooth/ 通过ls命令查看该文件夹下的电脑蓝牙地址文件夹，并 cd进入该文件夹。 ls cd ZZ:ZZ:ZZ:ZZ:ZZ:ZZ 通过ls命令查看该文件夹下的蓝牙鼠标存储文件夹名称（名称为蓝牙鼠标的地址，一般与记录的win系统下的蓝牙鼠标地址最后一组数值不同） ls 使用mv命令更改文件夹名称。（其中XX为ubuntu文件夹原地址，YY为记录的win系统下的地址） mv XX：XX：XX：XX：XX：XX YY：YY：YY：YY：YY：YY 更改后可通过ls命令查看到文件夹名称已变，进入该文件夹。 cd YY：YY：YY：YY：YY：YY 更改文件夹中的info文件。 nano info 在打开的文件夹中对应位置更改信息如下。 [IdentityResolvingKey] Key=记录的IRK值 [LongTermKey] Key=记录的LTK值 EDiv=记录的EDiv值 Rand=记录的ERand值 ctrl+x退出并保存。 终端执行下述指令，重启蓝牙服务。 service bluetooth restart 重新启动ubuntu系统。 双系统现均可使用鼠标，但鼠标重新配对后因信息改变会失效！所以建议不要重新配对。 ","link":"https://www.liwanxin.net/post/win10ubuntu_bluetooth_mouse/"},{"title":"调整电路板丝印设计，使电路板更加美观整洁","content":" 相信很多电子工程师在布板的过程中都会思考到如何让电路板看起来更加美观。本文就通过丝印方面入手，通过调整布板中丝印的设计，来使我们的电路板更加美观。 本文中描述功能均为使用Altium Designer软件下的操作。 调整丝印字体 当原理图设计完成，导入PCB文件时，通过双击丝印的方式，我们可以查看到丝印的信息，会发现导入后的默认字体为高度60mil，宽度10mil，字体的选择是Default。 调整丝印字体 Default字体在字母和数字拐角处使用的具有角度的直线，这与我们平时常见的打印字体圆润的显示方式是不同的，所以体现在电路板上会让人觉得并不是那么适应，那么丝印字体的更改就是我们是电路板美观的第一步。 如图中所示，更改字体为Sans Serif 的C11相较于默认的C10看起来更加的圆润，更加符合贴近我们常见打印字体。 那么能不能将电路板字体更改为我们常见的宋体、黑体、微软雅黑等字体呢？ 我们需要先将字体的勾选项从“笔画”更改为“TrueType”。 在更改后我们可以看到，下方的“选择字体”框变成了”选择TrueType字体“框，下面选择的内容也对应增加了，在字体名一栏我们可以对应选择常见的字体了。 （不过需要注意的是TrueType字体的高度设置和笔画字体略有出入，若更改为TrueType字体可能需要重新确认字体的高度） 调整丝印字体大小 默认的丝印字体高度60mil与0603封装电阻、电容件的高度是比较接近的，在器件排布比较密的板子上这样的字体是过大的，我们可以适当调整字体的大小，但是还是要遵循板厂可生产丝印的最小字符尺寸，不可小于此最小尺寸。 如下图为嘉立创提供的最小字符宽度要求，线宽6mil,字符高度32mil。 （一般我习惯将器件标号的丝印调为该最小尺寸） 当然，一些其他位置的起标识作用的丝印我们也可选择更大的字体尺寸，如下图为了标识出接插件电源与地的具体插口，我使用了明显与器件标号丝印尺寸和字体都不相同的 微软雅黑，高度2mm，粗体来使标识更加清晰，明确。 使用特殊的字体展现形式 字体反向 有一些设计会使用反向的方式展现文字内容，即文字部分无丝印，四周无字的一定范围覆盖丝印，如下图所示。 此种设计只需要在字体设置的时候勾选“反向的”，即可实现，下方还可设置反向覆盖丝印范围的宽度与高度。 制作裸露金属的文字 因为这种文字的制作方法需要占用顶层或底层部分铜皮，所以这种文字只能放置在顶层或底层没有走线的情况下。 PCB切换至顶层（或底层），通过“放置 - 字符串”的方式放置字符串，并修改为想要显示的文字内容。 选中该文字部分，选择“编辑 - 拷贝”，或者使用快捷键CTRL+C复制。（复制后光标变成十字，需要在点击下鼠标确定复制原点）。 将PCB切换至阻焊层TOP Solder层(或者Bottom Solder层) （注：阻焊层为负片输出的方式，即软件中该层覆盖的区域实际生产出来是不覆盖阻焊，即绿油的） 选择“编辑 - 特殊粘贴”，并勾选粘贴到当前层，将复制的字符粘贴至阻焊层，并与原文字重合。 切换到3D效果可以看到该字符已经通过阻焊开窗的方式，使用铜箔展现出来了。 善用对齐工具，对齐文本 额外我们还可以使用对齐工具，对齐同一横行（或竖行）的丝印，使电路板看起来更整洁。 （当然此方法也可用在元器件的摆放上，使元器件排列更整齐） 如下图中画白线的几处都是使用对齐工具，对丝印做过对齐处理的。 那么如何使用对齐工具呢？ 选择要对齐的丝印，可按住CTRL后通过鼠标复选多个丝印。 点击鼠标右键，选择对齐。 可以看到提供了多种对齐的方式，如图中丝印出处，应选择顶对齐或底对齐的方式将丝印对齐。若丝印是竖向排列的课使用左对齐或右对齐的方式实现对齐，当然其余对齐方式还需亲自尝试体会。 额外要注意的是对齐方式在使用翻转的方式旋转版面后，左右对齐依然是针对板Top 所在的顶层所在方向作为参考的，即若翻转后，想使用左对齐工具，实则应选择相反的右对齐工具。 ","link":"https://www.liwanxin.net/post/pcb_layout_beautiful/"},{"title":"使用IAR软件建立STM32F10x工程","content":"IAR版本：7.3.1.3987 STM32F10x固件库版本：3.5.0 操作系统：WIN10 建立工程文件夹 按照如下图所示的文件夹结构在电脑中建立文件夹层级。 从标准库向项目文件夹复制文件。 (标准库即标准外围库，可通过STM社区https://www.stmcu.org.cn/ 中左侧资料进行查找下载，如下图为查找到的STM32F10x标准外围库，现STM32F10x最新的固件库版本为3.5.0) Config：复制标准库中Projet -&gt; STM32F10x -&gt; StdPeriph_Templat -&gt; EWARM 中的.ic文件至该文件夹中。 Libraries -&gt; CMSIS -&gt; Startup：复制标准库中Libraries -&gt; CMSIS -&gt; CM3 -&gt; DeviceSupport -&gt; ST -&gt; STM32F10x -&gt; startup -&gt;iar中的所有.s文件至该文件夹中。 Libraries -&gt; CMSIS -&gt; System：复制标准库中Libraries -&gt; CMSIS -&gt; CM3 -&gt; DeviceSupport -&gt; ST -&gt; STM32F10x中的stm32f10x.h、system_stm32f10x.c及.h文件至该文件夹中。 Libraries -&gt; FWLIB -&gt; inc/src：复制标准库中Libraries -&gt; STM32F10x_StdPeriph_Driver -&gt; inc/src 2个文件夹至FWLIB文件夹中。 User：复制标准库中Project -&gt; STM32F10x_StdPeriph_Template中的stm32f10x_conf.h、stm32f10x_it.c及.h文件至该文件夹中。通过新建文本文档并更改文件后缀名的方式新建main.c及main.h文件。 IAR文件树结构建立 打开IAR软件，点击工具栏Project -&gt; Create New Project新建项目，弹出的对话框中Tool chain选择“ARM”，下方Project tamplates选择“Empty Project”（空的项目模板，我们自行向内添加文件），确认后弹出选择存储位置的选择框，选择为刚刚建立的项目文件夹 -&gt; Project根目录，文件名称建立设置为项目名称。 在软件左侧文件树的项目名称上单击右键，选择Add -&gt; Add Grope，分别建立名称为CMSIS、DOC、FWLIB、USER的文件组。 其中CMSIS用来存放与内核有关的库文件、启动文件，DOC用来存放程序对应的说明文档，FWLIB用来存放外设库文件，USER用来存放用户编写的驱动程序文件。 在CMSIS组上右键，分别建立STARTUP、SYSTEM子文件组，STARTUP用来存放启动文件，SYSTEM用来存放系统相关文件。 在各文件组名称上右键，ADD -&gt; Add Files... ，添加上一步建立的项目文件夹中各对应名称文件夹中的后缀为.c的文件（STARTUP需要添加后缀为.s的启动文件）。 工程配置 在IAR软件左侧的文件树中的项目名称上右键 -&gt; Options。 依次选择General Options -&gt; Target页 -&gt; Processor variant，选择Device，并在后方选择对应的MCU芯片型号。 在 C/C++ Compiler -&gt; Preprocessor页 -&gt; Additional include directories添加所有的头文件的文件夹地址（在Edit Include Directories 中每添加一个地址后，通过后方箭头可调整为指定相对地址，即$PROJ_DIR$\\...\\ 项目文件夹根目录 项目文件夹 -&gt; FWLIB -&gt; inc 项目文件夹 -&gt; CMSIS -&gt; Startup 项目文件夹 -&gt; CMSIS -&gt; System 在Define symbols中添加 USE_STDPERIPH_DRIVER,STM32F10x_MD(此处需要根据型号更改，与启动文件名称对应) 在Linker -&gt;Config页 -&gt; Linker configuration file页勾选“Override default”，并选择（输入）“\\$PROJ_DIR$\\...\\Config\\stm32f10x_flash.icf”。 （其中$PROJ_DIR$\\..\\为选择地址后手动打字输入替换的） 在Debugger -&gt; Setup页 -&gt; Drive更改为对应使用的仿真器类型。 在Debugger -&gt; Download页勾选“verify download”及“Use flash loader(s)”。 在General options -&gt; Library Configuration -&gt; CMSIS勾选“USE CMSIS”。 通过不加入编译的方式选择启动文件，具体启动文件的选择请参看文章《STM32型号命名方法及STM32启动文件的选择》。 在文件数STARTUP分组中，不需要的启动文件上右键 -&gt; Opentions...。 勾选“Exclude from build”。 按如上办法操作，只保留对应型号唯一的启动文件。 编译工程 在文件树中双击打开main.c文件。 添加如下基本代码。#include &quot;stm32f10x.h&quot; int main() { while(1) { } } 点击软件上方工具栏的“MAKE”编译按钮。 弹出提示存储工作区的存储框，文件名填写与项目相同，保存地址在Project文件夹下。 等待编译完成，下方提示错误及警告均为0，则工程建立完成。 ","link":"https://www.liwanxin.net/post/iar_build_stm32/"},{"title":"STM32型号命名方法及对应启动文件的选择","content":"意法半导体公司出品的STM32系列芯片型号非常之多，本文主要针对干放提供的芯片型号的命名方法进行总结，同时对建立工程时所需要选择的启动文件进行的选择方法进行介绍。 STM32系列芯片命名方法 通过查阅意法半导体提供的《STM8及STM32选型手册》，我们可以从中找到如下的型号命名方法的表格。 该表格针对STM8系列和STM3系列做出了明确的说明，名称各部分命名规则如下： 第1部分STM8和STM32表示该产品的系列名称，STM8为意法半导体的8位MCU产品，STM32为意法半导体的32位MCU产品。 第2部分是针对产品类别做出区分，常见的为F与L，F表示基础型，L表示超低功耗型。 第3部分为具体的产品系列区分，如051、103、429等，该部分具体设计到产品的内核与外设功能，如051为入门级的M0内核产品，103为基础型的M3内核产品，429位高性能切带有DSP与FPU的M4内核产品，该部分随着STM系列的不断发展与技术进步不断扩充，F0、F1、F4系列都已在各自定位的市场上广泛应用，近年来，F7及H7系列的扩充也更进一步完善了STM32的产品体系。 第4部分主要表示芯片的引脚数目，引脚更多的I/O可以方便使用者更好的进行外扩和实现更复杂的功能，但成本与电路板体积会对应增加，所以做项目时也应充分考虑到这些因素，不要一味的追求实用最新、功能与外设更强大的芯片。常用到的有C代表48引脚，R代表64引脚，V代表100引脚，Z表示144引脚，I代表174引脚，B代表208引脚，N代表216引脚。 第5部分主要表示芯片的FLASH的容量大小，该部分在选型时也是容易忽略的一个地方，在硬件先于软件的项目中也需要注意该问题，提前估计程序的复杂度，同时也做好FLASH不够的后手（基本STM32对于FLASH不同的同类别型号是pin to pin兼容的，大大降低了该部分风险）。一般常见的为6代表32KB,8代表64KB，B代表128KB，C代表256KB，E代表512KB，G代表1024KB，I代表2048KB。 该部分也与后续的STM32F10x系列的启动文件选型有着直接的关系。 第6部分表示芯片的封装型号，常见的为T，代表QFN的贴片封装。 第7部分表示芯片的温度范围，常见的6代表等级A，即-40~85℃。 STM32F10x系列启动文件的选择 在简历工程文件的时候，经常会设计到启动文件的选择，下文以STM32F10x启动文件的选择为例，介绍启动文件的选择方法。 在固件库文件的复制过程中，我们会发现STM32F10x 3.5.0固件库提供了8项启动文件的.s文件供我们选择，其具体区别和使用如下： startup_stm32f10x_cl.s：该文件适用于互联性器件，如F105xx及F107xx系列芯片。 startup_stm32f10x_ld_vl.s：该文件适用于小容量（16KB~32KB）的F100xx系列芯片。 startup_stm32f10x_md_vl.s：该文件适用于中容量（64KB~128KB）的F100xx系列芯片。 startup_stm32f10x_hd_vl.s：该文件适用于大容量（256KB~512KB）的F100xx系列芯片。 startup_stm32f10x_ld.s：该文件适用于小容量（16KB~32KB）的F101xx，F102xx，F103xx系列芯片。 startup_stm32f10x_md.s：该文件适用于中容量（64KB~128KB）的F101xx，F102xx，F103xx系列芯片。 startup_stm32f10x_hd.s：该文件适用于大容量（256KB~512KB）的F101xx，F102xx，F103xx系列芯片。 startup_stm32f10x_xl.s：该文件适用于超大容量（512KB~1024KB）的F101xx，F102xx，F103xx系列芯片。 在使用时需注意芯片的产品系列与具体的FLASH容量大小来对启动文件进行正确的选择。 ","link":"https://www.liwanxin.net/post/stm32_chipchoose/"},{"title":"Altium Designer软件常用快捷键及说明(2-PCB操作篇)","content":"在使用Altium软件绘图的过程中，经常会使用到一些比较常见的快捷键来简化操作步骤，记录在此，持续更新。 为了避免不必要的麻烦，本文中演示所需要的动图为笔者截取本人大学时期学习设计的相关图纸文件，不存在商业相关属性！ 下述快捷键在使用时需要将输入法切换至英文状态 按下CTRL+SHIFT+空格实现铺铜圆角选择，布线拐角方式切换。 布线拐角方式切换。 走线过程中按下L可实现换层。 选中元器件后，按下L同样可实现器件放置层的转换。 铺铜过程中按下CTRL+SHIFT+鼠标滚轮，可实现铺铜层的改变。 按下3可切换成3DPCB模式。 按下V+B可实现电路板翻面（2D，3D均可）。 滴泪快捷键T+E。 CTRL+M 测量距离。 ","link":"https://www.liwanxin.net/post/K968ggxPv/"},{"title":"Altium Designer软件常用快捷键及说明(1-原理图操作篇)","content":"在使用Altium软件绘图的过程中，经常会使用到一些比较常见的快捷键来简化操作步骤，记录在此，持续更新。 为了避免不必要的麻烦，本文中演示所需要的动图为笔者截取本人大学时期学习设计的相关图纸文件，不存在商业相关属性！ 下述快捷键在使用时需要将输入法切换至英文状态 CTRL+鼠标滚轮上滑/下滑： 可以调节原理图放大/缩小，方便参看图纸总体及各部分细节。 （该功能在14.3.18版本中可行，有后续版本改变为默认滚动滚轮即可实现该功能） 鼠标左键选中元器件，敲击空格： 可以调节放置的元器件的方向，每次调整90度。 该功能可延伸为鼠标左键选中元器件长按，并敲击空格。可实现围绕端点旋转元器件。 鼠标左键选中元器件长按，并按下“X”，可实现元器件关于水平方向的镜像翻转。 （同理，鼠标左键选中元器件长按，并按下“Y”可实现元器件关于竖直方向的镜像翻转。） **需要注意的是该翻转只会影响原理图中元器件接口的方向改变，方便原理图设计的更整洁，并不更改对应PCB的引脚顺序。 ** 鼠标左键选中元器件，依次按下“T”，“S”，可实现跳转至PCB文件中对应器件位置。 该功能在实现复杂PCB设计的时候非常好用！ （实现该功能需要在操作前在工作区打开对用PCB文件，如下图所示，否则会弹出需要打开PCB文件的提示） ","link":"https://www.liwanxin.net/post/pnGkwks7t/"}]}